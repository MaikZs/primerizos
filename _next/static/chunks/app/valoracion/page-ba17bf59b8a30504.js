(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95],{5352:(e,a,s)=>{Promise.resolve().then(s.bind(s,3880))},3880:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});var t=s(5155),d=s(2115),l=s(7058),i=s(9949),r=s(3449),n=s(6907);let o=()=>{let[e,a]=(0,d.useState)({edadPromedio:0,edadMinima:0,edadMaxima:0,puntajePromedio:0,puntajeMinimo:0,puntajeMaximo:0,distribucionEdad:{},distribucionSexo:{},totalValoraciones:0}),[s,o]=(0,d.useState)(!0);(0,d.useEffect)(()=>{(async()=>{try{let e=(await (0,l.GG)((0,l.rJ)(i.db,"ratings"))).docs.map(e=>e.data());if(e.length>0){let s=e.map(e=>e.edad),t=(s.reduce((e,a)=>e+a,0)/s.length).toFixed(1),d=Math.min(...s),l=Math.max(...s),i=e.map(e=>e.puntaje),r=(i.reduce((e,a)=>e+a,0)/i.length).toFixed(1),n=Math.min(...i),o=Math.max(...i),c=e.reduce((e,a)=>(e[a.edad]=(e[a.edad]||0)+1,e),{}),x=e.reduce((e,a)=>(e[a.sexo]=(e[a.sexo]||0)+1,e),{});a({edadPromedio:t,edadMinima:d,edadMaxima:l,puntajePromedio:r,puntajeMinimo:n,puntajeMaximo:o,distribucionEdad:c,distribucionSexo:x,totalValoraciones:e.length})}}catch(e){console.error("Error al obtener datos:",e)}finally{o(!1)}})()},[]);let c=e=>{let{title:a,value:s,subtitle:d}=e;return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:a}),(0,t.jsx)("p",{className:"text-3xl font-bold text-[#FF6FB0] mb-1",children:s}),d&&(0,t.jsx)("p",{className:"text-sm text-gray-600",children:d})]})};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,t.jsx)(r.default,{}),(0,t.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-[#824058] mb-8 text-center",children:"Estad\xedsticas de Valoraciones"}),s?(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-xl text-gray-600",children:"Cargando estad\xedsticas..."})}):(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)(c,{title:"Total de Valoraciones",value:e.totalValoraciones,subtitle:"opiniones registradas"}),(0,t.jsx)(c,{title:"Puntaje Promedio",value:e.puntajePromedio,subtitle:"Rango: ".concat(e.puntajeMinimo," - ").concat(e.puntajeMaximo)}),(0,t.jsx)(c,{title:"Edad Promedio",value:e.edadPromedio,subtitle:"Rango: ".concat(e.edadMinima," - ").concat(e.edadMaxima)})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Distribuci\xf3n por Sexo"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(e.distribucionSexo).map(e=>{let[a,s]=e;return(0,t.jsxs)("div",{className:"bg-gray-50 rounded p-4",children:[(0,t.jsx)("p",{className:"text-lg font-semibold text-[#FF6FB0]",children:a}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:s}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"personas"})]},a)})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Distribuci\xf3n por Edad"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:Object.entries(e.distribucionEdad).sort((e,a)=>{let[s]=e,[t]=a;return parseInt(s)-parseInt(t)}).map(e=>{let[a,s]=e;return(0,t.jsxs)("div",{className:"bg-gray-50 rounded p-4",children:[(0,t.jsxs)("p",{className:"text-lg font-semibold text-[#FF6FB0]",children:[a," a\xf1os"]}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:s}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"personas"})]},a)})})]})]})]}),(0,t.jsx)(n.A,{})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[992,970,189,767,441,517,358],()=>a(5352)),_N_E=e.O()}]);